# SpringBoot Echart数据统计与大模型师生助手项目需求文档

## 1. 项目概述

### 1.1 项目名称
SpringBoot Echart数据统计与大模型师生助手系统

### 1.2 项目目标
开发一个基于SpringBoot的综合性师生助手系统，集成数据可视化、基础CRUD、大模型对话和即时通讯功能，为师生提供全方位的数字化服务。

### 1.3 技术栈
- **后端**: SpringBoot + MyBatis-Plus + MySQL
- **前端**: Vue3 + Element Plus + Echarts
- **大模型**: DeepSeek API
- **即时通讯**: WebSocket
- **认证**: JWT Token

## 2. 功能需求

### 2.1 数据统计页面 (页面一)

#### 2.1.1 功能描述
提供多种数据可视化图表，展示师生相关的各类统计数据。

#### 2.1.2 具体需求
- **用户活跃度统计**: 展示每日/每周/每月用户登录活跃度
- **师生比例统计**: 饼图展示教师与学生比例
- **专业分布统计**: 柱状图展示各专业学生人数分布
- **对话量统计**: 展示大模型对话和即时通讯的使用情况
- **数据筛选功能**: 支持按时间范围、院系等条件筛选数据
- **数据导出功能**: 支持将统计数据导出为Excel或PDF

#### 2.1.3 技术实现
- 使用Echarts实现各类图表
- 后端提供数据统计API
- 支持实时数据更新

### 2.2 后台CRUD页面 (页面二)

#### 2.2.1 功能描述
提供师生信息的增删改查功能，支持批量操作。

#### 2.2.2 具体需求
- **用户管理**: 
  - 教师信息管理（姓名、工号、院系、职称、联系方式等）
  - 学生信息管理（姓名、学号、院系、班级、联系方式等）
- **权限管理**: 
  - 角色分配（管理员、教师、学生）
  - 权限控制
- **数据导入导出**: 
  - 支持Excel批量导入用户信息
  - 支持导出用户列表
- **高级搜索**: 
  - 多条件组合查询
  - 模糊搜索功能

#### 2.2.3 技术实现
- MyBatis-Plus实现数据库操作
- Element Plus Table组件展示数据
- 支持分页、排序、筛选

### 2.3 大模型对话界面 (页面三)

#### 2.3.1 功能描述
集成DeepSeek API，提供智能问答服务。

#### 2.3.2 具体需求
- **对话界面**: 
  - 聊天式UI，支持多轮对话
  - 消息历史记录
  - 支持Markdown格式显示
- **功能特性**: 
  - 学术问题解答
  - 代码生成与解释
  - 文档总结与分析
  - 多语言支持
- **个性化设置**: 
  - 对话模型参数调整
  - 历史对话管理
  - 常用问题收藏

#### 2.3.3 技术实现
- 集成DeepSeek API
- WebSocket实现流式响应
- 前端使用Markdown渲染器

### 2.4 即时通讯页面 (页面四)

#### 2.4.1 功能描述
提供师生间的实时聊天功能。

#### 2.4.2 具体需求
- **聊天功能**: 
  - 一对一私聊
  - 群组聊天（按班级/课程）
  - 消息实时推送
- **消息类型**: 
  - 文本消息
  - 图片消息
  - 文件分享
  - 语音消息（可选）
- **联系人管理**: 
  - 好友列表
  - 群组管理
  - 消息提醒设置
- **消息管理**: 
  - 消息历史记录
  - 消息搜索
  - 消息撤回（限时）

#### 2.4.3 技术实现
- WebSocket实现实时通讯
- 消息存储使用MySQL
- 文件上传使用MinIO或本地存储

## 3. 非功能性需求

### 3.1 性能需求
- 系统响应时间: 普通请求 < 2秒，大模型API响应 < 10秒
- 并发用户: 支持100+用户同时在线
- 数据处理: 支持万级数据量的统计查询

### 3.2 安全需求
- 用户认证: JWT Token认证
- 权限控制: 基于角色的访问控制(RBAC)
- 数据安全: 敏感数据加密存储
- API安全: 接口防刷、限流

### 3.3 兼容性需求
- 浏览器兼容: 支持Chrome、Firefox、Edge等主流浏览器
- 响应式设计: 适配PC端和移动端

## 4. 系统架构

### 4.1 整体架构
采用前后端分离架构:
- 前端: Vue3 + Element Plus
- 后端: SpringBoot + MyBatis-Plus
- 数据库: MySQL 8.0

### 4.2 模块划分
- **用户认证模块**: 登录、注册、权限管理
- **数据统计模块**: 数据收集、分析、可视化
- **CRUD模块**: 师生信息管理
- **大模型模块**: API集成、对话管理
- **即时通讯模块**: 消息推送、存储

## 5. 数据库设计

### 5.1 核心数据表
- **用户表(user)**: 存储用户基本信息
- **角色表(role)**: 存储角色信息
- **权限表(permission)**: 存储权限信息
- **对话记录表(chat_record)**: 存储大模型对话记录
- **消息表(message)**: 存储即时通讯消息
- **统计表(statistics)**: 存储各类统计数据